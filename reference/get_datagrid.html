<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Create a reference matrix, useful for visualisation, with evenly spread and
combined values. Usually used to make generate predictions using get_predicted().
See this vignette for a tutorial on how to create a visualisation matrix using this function."><title>Create a reference grid — get_datagrid • insight</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a reference grid — get_datagrid"><meta property="og:description" content="Create a reference matrix, useful for visualisation, with evenly spread and
combined values. Usually used to make generate predictions using get_predicted().
See this vignette for a tutorial on how to create a visualisation matrix using this function."><meta property="og:image" content="/reference/figures/card.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@easystats4u"><meta name="twitter:site" content="@easystats4u"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">insight</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.17.1.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/insight.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/display.html">Formatting, printing and exporting tables</a>
    <a class="dropdown-item" href="../articles/export.html">Exporting tables with captions and footers</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/easystats/insight/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a reference grid</h1>
      <small class="dont-index">Source: <a href="https://github.com/easystats/insight/blob/HEAD/R/get_datagrid.R" class="external-link"><code>R/get_datagrid.R</code></a></small>
      <div class="d-none name"><code>get_datagrid.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a reference matrix, useful for visualisation, with evenly spread and
combined values. Usually used to make generate predictions using <code><a href="get_predicted.html">get_predicted()</a></code>.
See this <a href="https://easystats.github.io/modelbased/articles/visualisation_matrix.html" class="external-link">vignette</a> for a tutorial on how to create a visualisation matrix using this function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_datagrid</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for data.frame</span>
<span class="fu">get_datagrid</span><span class="op">(</span>
  <span class="va">x</span>,
  at <span class="op">=</span> <span class="st">"all"</span>,
  factors <span class="op">=</span> <span class="st">"reference"</span>,
  numerics <span class="op">=</span> <span class="st">"mean"</span>,
  preserve_range <span class="op">=</span> <span class="cn">FALSE</span>,
  reference <span class="op">=</span> <span class="va">x</span>,
  length <span class="op">=</span> <span class="fl">10</span>,
  range <span class="op">=</span> <span class="st">"range"</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="co"># S3 method for numeric</span>
<span class="fu">get_datagrid</span><span class="op">(</span><span class="va">x</span>, length <span class="op">=</span> <span class="fl">10</span>, range <span class="op">=</span> <span class="st">"range"</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for factor</span>
<span class="fu">get_datagrid</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">get_datagrid</span><span class="op">(</span>
  <span class="va">x</span>,
  at <span class="op">=</span> <span class="st">"all"</span>,
  factors <span class="op">=</span> <span class="st">"reference"</span>,
  numerics <span class="op">=</span> <span class="st">"mean"</span>,
  preserve_range <span class="op">=</span> <span class="cn">TRUE</span>,
  reference <span class="op">=</span> <span class="va">x</span>,
  include_smooth <span class="op">=</span> <span class="cn">TRUE</span>,
  include_random <span class="op">=</span> <span class="cn">FALSE</span>,
  include_response <span class="op">=</span> <span class="cn">FALSE</span>,
  data <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An object from which to construct the reference grid.</p></dd>
<dt>...</dt>
<dd><p>Arguments passed to or from other methods (for instance, <code>length</code>
or <code>range</code> to control the spread of numeric variables.).</p></dd>
<dt>at</dt>
<dd><p>Can be <code>"all"</code>, a character vector or list of named elements, indicating
the predictors of interest (focal predictors). Can also contain assignments
(as named list, e.g. <code>at = list(c(Sepal.Length = c(2, 4), Species = "setosa"))</code>,
or as string, e.g. <code>at = "Sepal.Length = 2"</code> or
<code>at = c("Sepal.Length = 2", "Species = 'setosa'")</code> - note the usage of single
and double quotes to assign strings within strings). The remaining variables
will be fixed.</p></dd>
<dt>factors</dt>
<dd><p>Type of summary for factors. Can be <code>"reference"</code> (set at the
reference level), <code>"mode"</code> (set at the most common level) or <code>"all"</code> to
keep all levels.</p></dd>
<dt>numerics</dt>
<dd><p>Type of summary for numeric values. Can be <code>"all"</code> (will
duplicate the grid for all unique values), any function (<code>"mean"</code>,
<code>"median"</code>, ...) or a value (e.g., <code>numerics = 0</code>).</p></dd>
<dt>preserve_range</dt>
<dd><p>In the case of combinations between numeric variables
and factors, setting <code>preserve_range = TRUE</code> will drop the observations
where the value of the numeric variable is originally not present in the
range of its factor level. This leads to an unbalanced grid. Also, if you
want the minimum and the maximum to closely match the actual ranges, you
should increase the <code>length</code> argument.</p></dd>
<dt>reference</dt>
<dd><p>The reference vector from which to compute the mean and SD.
Used when standardizing or unstandardizing the grid using <code><a href="https://easystats.github.io/datawizard/reference/standardize.html" class="external-link">effectsize::standardize</a></code>.</p></dd>
<dt>length</dt>
<dd><p>Length of numeric target variables selected in <code>"at"</code>. This arguments
controls the number of (equally spread) values that will be taken to represent the
continuous variables. A longer length will increase precision, but can also
substantially increase the size of the datagrid (especially in case of interactions).
If <code>NA</code>, will return all the unique values. In case of multiple continuous target
variables, <code>length</code> can also be a vector of different values (see examples).</p></dd>
<dt>range</dt>
<dd><p>If <code>"range"</code> (default), will use the minimum and maximum of the
original data vector as end-points (min and max). If an interval type is specified,
such as <code><a href="https://rdrr.io/r/stats/IQR.html" class="external-link">"iqr"</a></code>, <code><a href="https://easystats.github.io/bayestestR/reference/ci.html" class="external-link">"ci"</a></code>, <code><a href="https://easystats.github.io/bayestestR/reference/hdi.html" class="external-link">"hdi"</a></code> or <code><a href="https://easystats.github.io/bayestestR/reference/eti.html" class="external-link">"eti"</a></code>, it will spread the values within
that range (the default CI width is <code>95%</code> but this can be changed by adding for instance
<code>ci = 0.90</code>. See <code><a href="https://rdrr.io/r/stats/IQR.html" class="external-link">IQR()</a></code> and <code><a href="https://easystats.github.io/bayestestR/reference/ci.html" class="external-link">bayestestR::ci()</a></code>. This can be useful to have
more robust change and skipping extreme values. If <code><a href="https://rdrr.io/r/stats/sd.html" class="external-link">"sd"</a></code> or <code><a href="https://rdrr.io/r/stats/mad.html" class="external-link">"mad"</a></code>, it will
spread by this dispersion index around the mean or the median, respectively.
If the <code>length</code> argument is an even number (e.g., <code>4</code>), it will have one more
step on the positive side (i.e., <code>-1, 0, +1, +2</code>). The result is a named vector.
See examples.</p></dd>
<dt>include_smooth</dt>
<dd><p>If <code>x</code> is a model object, decide whether smooth terms
should be included in the data grid or not.</p></dd>
<dt>include_random</dt>
<dd><p>If <code>x</code> is a mixed model object, decide whether random
effect terms should be included in the data grid or not. If
<code>include_random</code> is <code>FALSE</code>, but <code>x</code> is a mixed model with random effects,
these will still be included in the returned grid, but set to their
"population level" value (e.g., <code>NA</code> for <em>glmmTMB</em> or <code>0</code> for <em>merMod</em>).
This ensures that common <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> methods work properly, as these
usually need data with all variables in the model included.</p></dd>
<dt>include_response</dt>
<dd><p>If <code>x</code> is a model object, decide whether the response
variable should be included in the data grid or not.</p></dd>
<dt>data</dt>
<dd><p>Optional, the data frame that was used to fit the model. Usually,
the data is retrieved via <code><a href="get_data.html">get_data()</a></code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Reference grid data frame.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="get_predicted.html">get_predicted()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Datagrids of variables and dataframes =====================================</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://easystats.github.io/bayestestR/" class="external-link">"bayestestR"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://easystats.github.io/datawizard/" class="external-link">"datawizard"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># Single variable is of interest; all others are "fixed" ------------------</span></span>
<span class="r-in">  <span class="co"># Factors</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="st">"Species"</span><span class="op">)</span> <span class="co"># Returns all the levels</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="st">"Species = c('setosa', 'versicolor')"</span><span class="op">)</span> <span class="co"># Specify an expression</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># Numeric variables</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="st">"Sepal.Length"</span><span class="op">)</span> <span class="co"># default spread length = 10</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="st">"Sepal.Length"</span>, length <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="co"># change length</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">150</span>, <span class="op">]</span>,</span>
<span class="r-in">    at <span class="op">=</span> <span class="st">"Sepal.Length"</span>,</span>
<span class="r-in">    factors <span class="op">=</span> <span class="st">"mode"</span>, numerics <span class="op">=</span> <span class="st">"median"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="co"># change non-targets fixing</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="st">"Sepal.Length"</span>, range <span class="op">=</span> <span class="st">"ci"</span>, ci <span class="op">=</span> <span class="fl">0.90</span><span class="op">)</span> <span class="co"># change min/max of target</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="st">"Sepal.Length = [0, 1]"</span><span class="op">)</span> <span class="co"># Manually change min/max</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># Standardization and unstandardization</span></span>
<span class="r-in">  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="st">"Sepal.Length"</span>, range <span class="op">=</span> <span class="st">"sd"</span>, length <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">data</span><span class="op">$</span><span class="va">Sepal.Length</span> <span class="co"># It is a named vector (extract names with `names(out$Sepal.Length)`)</span></span>
<span class="r-in">  <span class="co"># TODO: uncomment when datawizard &gt; 0.3.1 is out</span></span>
<span class="r-in">  <span class="co"># datawizard::standardize(data, select = "Sepal.Length")</span></span>
<span class="r-in">  <span class="co"># data &lt;- get_datagrid(iris, at = "Sepal.Length = c(-2, 0, 2)") # Manually specify values</span></span>
<span class="r-in">  <span class="co"># data</span></span>
<span class="r-in">  <span class="co"># datawizard::unstandardize(data, select = "Sepal.Length")</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># Multiple variables are of interest, creating a combination --------------</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Species"</span><span class="op">)</span>, length <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Petal.Length"</span><span class="op">)</span>, length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, length <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Species"</span><span class="op">)</span>, preserve_range <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Species"</span><span class="op">)</span>, numerics <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length = 3"</span>, <span class="st">"Species"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length = c(3, 1)"</span>, <span class="st">"Species = 'setosa'"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># With list-style at-argument</span></span>
<span class="r-in">  <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">iris</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Sepal.Length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, Species <span class="op">=</span> <span class="st">"setosa"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sepal.Length Species Sepal.Width Petal.Length Petal.Width</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            1  setosa    3.057333        3.758    1.199333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            3  setosa    3.057333        3.758    1.199333</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># With models ===============================================================</span></span>
<span class="r-in"><span class="co"># Fit a linear regression</span></span>
<span class="r-in"><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Sepal.Width</span> <span class="op">*</span> <span class="va">Petal.Length</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Get datagrid of predictors</span></span>
<span class="r-in"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">get_datagrid</span><span class="op">(</span><span class="va">model</span>, length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">3</span><span class="op">)</span>, range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"range"</span>, <span class="st">"sd"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Add predictions</span></span>
<span class="r-in"><span class="va">data</span><span class="op">$</span><span class="va">Sepal.Length</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_predicted.html">get_predicted</a></span><span class="op">(</span><span class="va">model</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Visualize relationships (each color is at -1 SD, Mean, and + 1 SD of Petal.Length)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Sepal.Width</span>, <span class="va">data</span><span class="op">$</span><span class="va">Sepal.Length</span>,</span>
<span class="r-in">  col <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Petal.Length</span>,</span>
<span class="r-in">  main <span class="op">=</span> <span class="st">"Relationship at -1 SD, Mean, and + 1 SD of Petal.Length"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-plt img"><img src="get_datagrid-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/strengejacke/" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Philip Waggoner, <a href="https://sites.google.com/view/mattansb/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>, Vincent Arel-Bundock.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

